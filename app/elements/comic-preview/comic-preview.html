<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/firebase-element/firebase-element.html">

<link rel="import" href="../html-echo/html-echo.html">

<polymer-element name="comic-preview" attributes="pathArg1">
    <template>
        <style>
        #comicPreview {
            overflow: hidden;
        }
        #comicPreview div{
            width: 300px;
            height: 300px;
            float: left;
        }
        </style>
        <firebase-element id="base" data="{{data}}" location="https://comicsense.firebaseio.com/comicses/{{pathArg1}}"></firebase-element>
        <pvc-globals values="{{globals}}"></pvc-globals>
        
        <article>
            <h1>{{data.comics.title}}</h1>

            <section id="comicPreview">
                <template repeat="{{scene in data.comics.scenes}}">
                    <div>
                        <html-echo html="{{scene.image}}"></html-echo>
                    </div>
                </template>
            </section>
            <!-- Go to www.addthis.com/dashboard to customize your tools -->
            <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-54c5371e761cedb5" async="async"></script>

        </article>
    </template>  
    
    <script>
    (function () {
       Polymer({ 
           domReady : function () {  
                 console.log(this.data); 
                 this.pathArg1= location.hash.split('/').pop();
              },
       });
    })();
    </script>
</polymer-element>