<link rel="import" href="../../bower_components/polymer/polymer.html">
<polymer-element name="scene-assets" >
  <template>
    <style>
    :host {
      display: block;
      position: relative;
      background-color: #ccc;
      padding:  4px;
      border: solid 1px #ccc;
      font-size: 1.2rem;
      font-weight: 300;
    }
    .buttons {
      clear: both;
      margin-top: 3em;
    }
    input[type="image"] {
      width: 100px;
      height: 100px;
    }
    
    </style>

      <template repeat="{{i in bgs}}">

        <input type="image" class="asset" src="i" alt="hopek" dragabble="true" />
      </template>      
      <template repeat="{{i in items}}">
        <input type="image" class="asset" src="i" alt="hopek" dragabble="true" />
      </template>
      <template repeat="{{i in clouds}}">
        <input type="image" class="asset" src="i" alt="hopek" dragabble="true" />
      </template>

      <div id="btns" class="buttons">
            <!-- TO BE DONE - widget for asseiejts -->
          <input type="image" class="asset" src="/assets/as1.png" alt="hopek" dragabble="true" />
          <input type="image" class="asset" src="/assets/as2.png" dragabble="true" />
          <input type="image" class="asset" src="/assets/as3.png" alt="gwiazdka" dragabble="true" />
          <input type="image" class="bg" src="/assets/b1.png" dragabble="true" />
          <input type="image" class="bg" src="/assets/b2.jpg" dragabble="true" />
          <input type="image" class="cloud" src="/assets/c1.jpeg" dragabble="true" />
          <input type="image" class="cloud" src="/assets/cloud2.svg" dragabble="true" />

          <button type="reset" id="reset" >Clear</button>
          <button type="submit" id="save" >Save</button>
          </div>

  </template>
  <script>
  Polymer({
    bgs: null,
    items: null,
    clouds: null,
    _self: null,
    data: null,

 

    ready: function() {
      if(this.activate) {
          _self = this;
          $().getJSON("/assets/items.json", function(json) {
            var items = eval(json);
            consol.log(items);
            //trzeba przefiltrować, żęby app/dit wywalic
            _self.items = items;
          });

          $(this.$.btns).find("input").on("dragstart", this.dragAction);
          $(this.$.btns).find("button#reset").click(this.clearBoardAction);
          $(this.$.btns).find("button#save").click(this.saveAction);
          _self = this;
      }
    }

  });

  </script>
</polymer-element>